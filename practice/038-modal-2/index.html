<style>
  body {
    /*margin: 0;*/
    font-family: sans-serif;
    color: #444;
    font-size: 20px;
    line-height: 1.5;
  }

  h3 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 2rem;
  }

  button {
    font-size: 12px;
    padding: 5px 20px;
    border: 1px solid rgba(0, 0, 0, .2);
    outline: 0;
    color: #555;
  }

  button,
  .modal {
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
  }

  .mask,
  .modal {
    position: fixed;
  }

  .mask {
    display: none;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, .5);
  }

  .modal {
    top: 100px;
    bottom: 100px;
    left: 100px;
    right: 100px;
    overflow: auto;

    padding: 20px;
    background: #fff;
    -webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .3);
    -moz-box-shadow: 0 0 5px rgba(0, 0, 0, .3);
    box-shadow: 0 0 5px rgba(0, 0, 0, .3);
  }

  .modal .toolbar {
    float: right;
  }

  .show {
    display: block;
  }
</style>

<div>
  <nav>
    <button class="login">登录</button>
  </nav>

  <div class="mask">
    <div class="modal">
      <div class="toolbar">
        <button class="close">关闭</button>
      </div>
      <h3>登录</h3>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque fugiat laboriosam possimus quam, repudiandae
      similique vel! Consequatur, dignissimos, dolor magni neque nulla odit porro praesentium, recusandae reprehenderit
      similique tempore unde. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab ad asperiores commodi
      cupiditate, dolor eligendi id nisi placeat quod recusandae rem reprehenderit sapiente sit, tempora ullam ut vitae
      voluptas voluptates?
      similique tempore unde. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab ad asperiores commodi
      cupiditate, dolor eligendi id nisi placeat quod recusandae rem reprehenderit sapiente sit, tempora ullam ut vitae
      voluptas voluptates?
      similique tempore unde. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab ad asperiores commodi
      cupiditate, dolor eligendi id nisi placeat quod recusandae rem reprehenderit sapiente sit, tempora ullam ut vitae
      voluptas voluptates?
    </div>
  </div>
</div>

<script>
  var mask = document.querySelector('.mask')
    , modal = mask.querySelector('.modal')
    , close = document.querySelector('.close')
    , login = document.querySelector('.login')
  ;

  function show() {
    mask.classList.add('show');
  }

  function hide() {
    mask.classList.remove('show');
  }

  login.addEventListener('click', show);

  /*在爷爷辈检测点击事件（这意味着哪怕是孙子引发的点击事件也会传递上来，因为默认冒泡）*/
  mask.addEventListener('click', function (e) {
    /*如果点击源是close或自己（也就是遮罩），那么就隐藏modal*/
    if (e.target === close || e.target === mask) {
      hide();
    }
  });

  document.addEventListener('keyup', function (e) {
    if (e.code !== 'Escape')
      return;

    hide();
  })
</script>
